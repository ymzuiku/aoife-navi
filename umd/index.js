!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("querystring-number"),require("template-fn")):"function"==typeof define&&define.amd?define(["exports","querystring-number","template-fn"],e):e((n=n||self).Route={},n.qs,n.templateFn)}(this,function(n,f,r){"use strict";function t(i,o,s,l){return new(s=s||Promise)(function(n,e){function t(n){try{r(l.next(n))}catch(n){e(n)}}function a(n){try{r(l.throw(n))}catch(n){e(n)}}function r(e){e.done?n(e.value):new s(function(n){n(e.value)}).then(t,a)}r((l=l.apply(i,o||[])).next())})}function p(t,a){var r,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},n={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function e(e){return function(n){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&e[0]?i.return:e[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,e[1])).done)return o;switch(i=0,(e=o?[2&e[0],o.value]:e)[0]){case 0:case 1:o=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,i=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!o||e[1]>o[0]&&e[1]<o[3])){s.label=e[1];break}if(6===e[0]&&s.label<o[1]){s.label=o[1],o=e;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(e);break}o[2]&&s.ops.pop(),s.trys.pop();continue}e=a.call(t,s)}catch(n){e=[6,n],i=0}finally{r=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,n])}}}f=f&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var i={};var e,a,d="navi-page";function v(u){var e=this,c=document.createElement("div");c.setAttribute("ux-navi-root","1"),c.className="navi-root",c.push=function(s,l,n){return t(e,void 0,void 0,function(){var a,r,i,o;return p(this,function(n){switch(n.label){case 0:return(a=u[s])?(r=a()).then?[4,Promise.resolve(r)]:[3,2]:[2];case 1:if(!(i=n.sent()).default)return[2];r=i.default(),n.label=2;case 2:return v.isWechat||history.pushState(l,"",l?s+"?"+f.stringify(l):s),i=c.lastElementChild,(o=document.createElement("div")).setAttribute("ux-navi","1"),o.append(r),i?(e=o,t=function(){c.append(o)},i.className=d+" navi-move-last",e.className=d+" navi-move-next",t(),setTimeout(function(){e.className=d},20)):(o.className=d,c.append(o)),[2]}var e,t})})},c.replace=function(r,i){return t(e,void 0,void 0,function(){var e,t,a;return p(this,function(n){switch(n.label){case 0:return(t=u[r])?(e=t()).then?[4,Promise.resolve(e)]:[3,2]:[2];case 1:if(!(a=n.sent()).default)return[2];e=a.default(),n.label=2;case 2:return v.isWechat||history.replaceState(i,"",i?r+"?"+f.stringify(i):r),t=c.lastElementChild,(a=document.createElement("div")).setAttribute("ux-navi","1"),a.append(e),a.className=d,t.replaceWith(a),[2]}})})},c.pop=function(n){return t(e,void 0,void 0,function(){return p(this,function(n){return 1<c.children.length&&(v.isWechat?a():history.back()),[2]})})};var a=function(){var n,e,t;document.contains(c)?c.children.length<=1||(n=c.lastChild,e=c.children.item(c.children.length-2),t=n,e.className=d,t.className=d+" navi-move-next",t.addEventListener("transitionend",function(){t.remove()})):window.removeEventListener("popstate",a)};window.addEventListener("popstate",a);var n=location.pathname;return c.push("/",void 0,!0),"/"!==n&&c.push(n,void 0,!0),c}!function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t,a=r.apply(void 0,n);i[a]||(i[a]=!0,(t=document.createElement("style")).innerHTML=a,document.head.append(t))}((e=["\n  :root {\n    --navi-ease: cubic-bezier(0.23, 1, 0.32, 1);\n  }\n  .navi-root {\n    width: 100%;\n    height: 100%;\n    padding: 0px;\n    margin: 0px;\n    position: relative;\n    overflow: hidden;\n    background: var(--bg, #fff);\n  }\n  .navi-page {\n    display: block;\n    position: absolute;\n    background: var(--bg, #fff);\n    width: 100%;\n    height: 100%;\n    padding: 0px;\n    margin: 0px;\n    overflow: auto;\n    top: 0px;\n    left: 0px;\n    transform: translateY(0%);\n    transition: 0.35s transform var(--navi-ease);\n  }\n  .navi-move-last {\n    /* transform: translateY(-35%); */\n    transform: translateX(-50%);\n  }\n  .navi-move-next {\n    /* transform: translateY(35%); */\n    transform: translateX(100%);\n  }\n"],a=["\n  :root {\n    --navi-ease: cubic-bezier(0.23, 1, 0.32, 1);\n  }\n  .navi-root {\n    width: 100%;\n    height: 100%;\n    padding: 0px;\n    margin: 0px;\n    position: relative;\n    overflow: hidden;\n    background: var(--bg, #fff);\n  }\n  .navi-page {\n    display: block;\n    position: absolute;\n    background: var(--bg, #fff);\n    width: 100%;\n    height: 100%;\n    padding: 0px;\n    margin: 0px;\n    overflow: auto;\n    top: 0px;\n    left: 0px;\n    transform: translateY(0%);\n    transition: 0.35s transform var(--navi-ease);\n  }\n  .navi-move-last {\n    /* transform: translateY(-35%); */\n    transform: translateX(-50%);\n  }\n  .navi-move-next {\n    /* transform: translateY(35%); */\n    transform: translateX(100%);\n  }\n"],Object.defineProperty?Object.defineProperty(e,"raw",{value:a}):e.raw=a,e)),v.isIos=/(?:iPhone|iPad)/.test(navigator.userAgent),v.isWechat=/MicroMessenger/.test(navigator.userAgent),n.Navi=v,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
